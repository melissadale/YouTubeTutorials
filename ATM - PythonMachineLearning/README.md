# ATM: Auto Tune Models


 * https://atm.readthedocs.io/en/latest/introduction.html 
 * https://github.com/HDI-Project/ATM


**PRE-SETUP**

_For on Windows:_ 

 * Ubuntu bash on Windows: https://tutorials.ubuntu.com/tutorial/tutorial-ubuntu-on-windows#3
 
 * Conda for Windowâ€™s Ubuntu: https://www.cgranade.com/blog/2016/08/22/qutip-on-wsl.html 
 
 _optional:_
 
 * SQLite Viewer: https://sqlitebrowser.org/ 
 
 
 
**Files in this repo**

 * `atm_setup.sh`: This script will checkout coordinating versions of ATM and BTB, create a conda virtual environment, install packages in the requirments.txt and setup.py.
 
 
 * CookBook: `evaluate_run.py`: This python script demonstrates how to interact with the generated database once the evaluation portion is done. To use, create a directory inside the Scripts directory of ATM to store your own evaluation scripts and put file in there.  
 
 
 * CookBook: `sqlite_metrics.py`: This python script demonstrates how to collect the evaluation metrics for the best performing classifier. This example could be modified for other purposes in interacting with the generated db file. 
   
* CookBook: `generate_report.py`: This script will generate a report summary for the generated atm.db file generated by ATM. This will produce a csv with the metrics for the best performing method for each method. e.g.


| experiment | method | id | accuracy    | SD          | cohen_kappa | f1          | mcc         | roc_auc     | ap          | parameters                                                                                                                                                 |
|------------|--------|----|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ../atm.db  | dt     | 74 | 0.555555556 | 0.883333333 | 0.111111111 | 0.636363636 | 0.124034735 | 0.697530864 | 0.65982906  | {'min_samples_leaf': 3, 'max_features': 0.2627159007398094, 'min_samples_split': 3, 'criterion': 'entropy', 'max_depth': 4}                                |
| ../atm.db  | knn    | 93 | 0.555555556 | 0.893650794 | 0.12195122  | 0.555555556 | 0.125       | 0.70625     | 0.727709096 | {'algorithm': 'kd_tree', 'leaf_size': 6, 'metric': 'euclidean', 'weights': 'uniform', 'n_neighbors': 17, '_scale': True}                                   |
| ../atm.db  | logreg | 77 | 0.777777778 | 0.833232323 | 0.555555556 | 0.8         | 0.569802882 | 0.814814815 | 0.835305435 | {'class_weight': 'balanced', 'C': 0.00016384957710306223, 'tol': 7.413006554423885, 'fit_intercept': False, 'dual': True, 'penalty': 'l2', '_scale': True} | 


**_Helper Things:_**

- **RUN SCRIPT**: `source atm_setup.sh` 


- **Remove virtual environment**: `conda env remove -n atm_environment`
